@if (vm(); as vm) {
    <app-base-dialog
        class="xl:w-300 lg:w-230 md:w-172 sm:w-140 w-96 h-200 block overflow-auto"
        (cancelOnClick)="resetFormWithCloseDialog()"
        [vm]="vm"
        *transloco="let t"
    >
        <form [formGroup]="areaDataFormGroup" class="space-y-4">
            <div
                class="flex flex-col lg:flex-row space-y-4 lg:space-y-0 lg:space-x-4"
            >
                <div class="flex flex-col w-full lg:w-1/2">
                    <label for="targetArea">{{
                        t(vm.targetAreaLabelKey)
                    }}</label>
                    <app-map-area-select-form-control
                        [vm]="vm.mapAreaSelectFormControlVM"
                        formControlName="targetArea"
                        class="border rounded-md mt-1 p-2"
                    />
                </div>
                <div class="flex flex-col w-full lg:w-1/2">
                    <label for="entryPoint">{{
                        t(vm.entryPointLabelKey)
                    }}</label>
                    <app-map-point-select-form-control
                        [vm]="vm.mapPointSelectFormControlVM"
                        formControlName="entryPoint"
                        class="border rounded-md mt-1 p-2"
                    />
                </div>
            </div>

            <div class="flex flex-col">
                <label for="dosePerHq">{{ t(vm.dosePerHqLabelKey) }}</label>
                <input
                    id="dosePerHq"
                    type="number"
                    formControlName="dosePerHq"
                    min="0"
                    class="p-2 border rounded-md"
                />
            </div>

            <div class="flex flex-col">
                <label for="applicationDate">{{
                    t(vm.applicationDateLabelKey)
                }}</label>
                <input
                    id="applicationDate"
                    type="datetime-local"
                    formControlName="applicationDate"
                    class="p-2 border rounded-md"
                />
            </div>
        </form>

        <button
            (click)="submitForm()"
            [disabled]="areaDataFormGroup.invalid"
            [ngClass]="[areaDataFormGroup.valid ? 'btn-primary' : 'disabled']"
            class="btn"
        >
            {{ t(vm.submitButtonTextKey) }}
        </button>
        <button (click)="resetFormWithCloseDialog()" class="btn btn-error">
            {{ t(vm.cancelButtonTextKey) }}
        </button>
    </app-base-dialog>
}
