@if (vm(); as vm) {
    <app-base-dialog
        class="xl:w-300 lg:w-230 md:w-172 sm:w-140 w-96 h-200 block overflow-auto"
        (cancelOnClick)="resetFormWithCloseDialog()"
        [vm]="vm"
        *transloco="let t"
    >
        <form [formGroup]="areaDataFormGroup" class="flex flex-col space-y-4">
            <!-- Mission name -->
            <div class="flex flex-col">
                <label for="missionName">{{ t(vm.missionNameLabelKey) }}</label>
                <input
                    id="missionName"
                    type="text"
                    formControlName="missionName"
                    class="p-2 border rounded-md"
                />
            </div>

            <app-map-form-control
                [formControl]="areaDataFormGroup.controls.map"
                [vm]="vm.mapFormControlVM"
            />

            <!-- Dose per hq -->
            <div class="flex flex-col">
                <label for="dosePerHq">{{ t(vm.dosePerHqLabelKey) }}</label>
                <input
                    id="dosePerHq"
                    type="number"
                    formControlName="dosePerHq"
                    min="0"
                    class="p-2 border rounded-md"
                />
            </div>

            <!-- Application date -->
            <div class="flex flex-col">
                <label for="applicationDate">{{
                    t(vm.applicationDateLabelKey)
                }}</label>
                <input
                    id="applicationDate"
                    type="datetime-local"
                    formControlName="applicationDate"
                    class="p-2 border rounded-md"
                />
            </div>

            <div class="flex flex-col">
                <label for="comment">{{ t(vm.commentLabelKey) }}</label>
                <textarea
                    id="comment"
                    formControlName="comment"
                    class="p-2 border rounded-md"
                ></textarea>
            </div>
        </form>

        <button
            (click)="submitForm()"
            [disabled]="areaDataFormGroup.invalid"
            [ngClass]="[areaDataFormGroup.valid ? 'btn-primary' : 'disabled']"
            class="btn"
        >
            {{ t(vm.submitButtonTextKey) }}
        </button>
        <button (click)="resetFormWithCloseDialog()" class="btn btn-error">
            {{ t(vm.cancelButtonTextKey) }}
        </button>
    </app-base-dialog>
}
