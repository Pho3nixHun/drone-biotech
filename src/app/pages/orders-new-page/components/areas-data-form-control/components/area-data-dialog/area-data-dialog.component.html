@if (vm(); as vm) {
    <app-dialog-layout
        class="xl:w-300 lg:w-230 md:w-172 sm:w-140 w-96 h-200 block overflow-auto"
        (close)="resetFormWithCloseDialog()"
        [vm]="vm"
        *transloco="let t"
    >
        <form [formGroup]="areaDataFormGroup" class="flex flex-col space-y-4">
            <!-- Mission name -->
            <div class="flex flex-col">
                <label for="missionName">{{ t(vm.missionNameLabelKey) }}</label>
                <input
                    id="missionName"
                    type="text"
                    formControlName="missionName"
                    class="p-2 border rounded-md"
                />
            </div>

            <app-map-form-control
                [formControl]="areaDataFormGroup.controls.map"
                [vm]="vm.mapFormControlVM"
            />

            <!-- Dose per hq -->
            <div class="flex flex-col">
                <label for="dosePerHq">{{ t(vm.dosePerHqLabelKey) }}</label>
                <input
                    id="dosePerHq"
                    type="number"
                    formControlName="dosePerHq"
                    min="0"
                    class="p-2 border rounded-md"
                />
            </div>

            <!-- Application date -->
            <div class="flex flex-col">
                <label for="applicationDate">{{
                    t(vm.applicationDateLabelKey)
                }}</label>
                <input
                    id="applicationDate"
                    type="datetime-local"
                    formControlName="applicationDate"
                    class="p-2 border rounded-md"
                />
            </div>

            <div class="flex flex-col">
                <label for="comment">{{ t(vm.commentLabelKey) }}</label>
                <textarea
                    id="comment"
                    formControlName="comment"
                    class="p-2 border rounded-md"
                ></textarea>
            </div>
        </form>
        <app-button
            [vm]="vm.submitButtonXVM"
            [disabled]="areaDataFormGroup.invalid"
            (click)="submitForm()"
        >
            @if (vm.submitButtonXVM.textKey) {
                <span>{{ t(vm.submitButtonXVM.textKey) }}</span>
            }
        </app-button>
        <app-button
            [vm]="vm.cancelButtonXVM"
            (click)="resetFormWithCloseDialog()"
        >
            @if (vm.cancelButtonXVM.textKey) {
                <span>{{ t(vm.cancelButtonXVM.textKey) }}</span>
            }
        </app-button>
    </app-dialog-layout>
}
