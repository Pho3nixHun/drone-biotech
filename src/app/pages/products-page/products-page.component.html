@if (productsVM(); as vm) {
  <app-frame [vm]="vm.frameVM">
    @if ((productId$ | async) !== null) {
      <app-product-item [vm]="vm.productItems[(productId$ | async)!]"></app-product-item>
    } @else {
      <app-product-list>
        @for (product of vm.productItems; track $index) {
          <app-product-item [vm]="product" [routerLink]="[$index]" />
        }
      </app-product-list>
    }
  </app-frame>
}
