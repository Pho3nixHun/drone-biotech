@if (productsVM(); as vm) {
  @if ((productId$ | async) !== null) {
    <app-frame>
      <app-product-item [vm]="vm.productItems[(productId$ | async)! - 1]" />
    </app-frame>
  } @else {
    <app-frame [vm]="vm.frameVM">
      <app-product-list>
        @for (product of vm.productItems; track $index) {
          <app-product-item [vm]="product" [routerLink]="[product.id]" />
        }
      </app-product-list>
    </app-frame>
  }
}
