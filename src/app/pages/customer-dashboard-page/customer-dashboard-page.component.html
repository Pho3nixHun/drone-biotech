@if (vm(); as vm) {
    <app-dashboard-spacer *transloco="let t">
        @for (gridXVM of vm.gridXVMs; track $index) {
            <app-grid-section>
                <app-grid-section-header>
                    <h3 class="text-xl font-medium">
                        {{ t(gridXVM.titleKey) }}
                    </h3>
                    @if (gridXVM.anchor) {
                        <a
                            [routerLink]="gridXVM.anchor.routerLink"
                            class="btn btn-primary"
                            >{{ t(gridXVM.anchor.textKey) }}
                        </a>
                    }
                </app-grid-section-header>
                <app-grid class="*:grid-cols-6">
                    <app-grid-header
                        class="grid grid-cols-subgrid col-span-full"
                    >
                        @for (header of gridXVM.headerKeys; track $index) {
                            <h4
                                class="uppercase xl:flex items-center text-gray-500 text-sm font-medium"
                            >
                                {{ t(header) }}
                            </h4>
                        }
                    </app-grid-header>
                    <app-grid-item-list
                        class="grid grid-cols-subgrid col-span-full"
                    >
                        @for (orderXVM of gridXVM.orderXVMs; track $index) {
                            <app-grid-item
                                class="grid grid-cols-subgrid xl:col-span-full"
                                *transloco="let t"
                            >
                                <app-key-value [label]="orderXVM.id.labelKey">
                                    <app-value [vm]="orderXVM.id.valueVM" />
                                </app-key-value>

                                @if (orderXVM.type === 'companyOrder') {
                                    <app-key-value
                                        [label]="orderXVM.requester.labelKey"
                                    >
                                        <app-value
                                            [vm]="orderXVM.requester.valueVM"
                                        />
                                    </app-key-value>
                                }

                                <app-key-value
                                    [label]="orderXVM.creationDate.labelKey"
                                >
                                    <app-value
                                        [vm]="orderXVM.creationDate.valueVM"
                                    />
                                </app-key-value>

                                <app-key-value
                                    [label]="orderXVM.totalAreaInHa.labelKey"
                                >
                                    <app-value
                                        [vm]="orderXVM.totalAreaInHa.valueVM"
                                    />
                                </app-key-value>

                                <app-key-value
                                    [label]="orderXVM.status.labelKey"
                                    ><app-labeled-badge
                                        class="xl:block hidden"
                                        [ngClass]="{
                                            '*:bg-yellow-200 text-yellow-600':
                                                orderXVM.status.badgeXVM
                                                    .status === Status.ACTIVE,
                                            '*:bg-green-200 text-green-600':
                                                orderXVM.status.badgeXVM
                                                    .status ===
                                                Status.COMPLETED,
                                            '*:bg-red-200 text-red-600':
                                                orderXVM.status.badgeXVM
                                                    .status === Status.PENDING,
                                        }"
                                        >{{
                                            t(orderXVM.status.badgeXVM.textKey)
                                        }}</app-labeled-badge
                                    >
                                    <app-value
                                        class="block xl:hidden"
                                        [vm]="orderXVM.status.valueVM"
                                    />
                                </app-key-value>

                                <app-key-value
                                    [label]="orderXVM.price.labelKey"
                                >
                                    <app-value [vm]="orderXVM.price.valueVM" />
                                </app-key-value>

                                @if (orderXVM.type === 'myOrder') {
                                    <app-key-value
                                        [label]="orderXVM.anchorXVM.labelKey"
                                        class="text-blue-700"
                                    >
                                        <a
                                            [routerLink]="
                                                orderXVM.anchorXVM.routerLink
                                            "
                                            >{{
                                                t(orderXVM.anchorXVM.textKey)
                                            }}</a
                                        >
                                    </app-key-value>
                                }
                            </app-grid-item>
                        }
                    </app-grid-item-list>
                </app-grid>
            </app-grid-section>
        }
    </app-dashboard-spacer>
}
